<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org/">
<head>
    <meta charset="UTF-8"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"/>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"></script>
    <title></title>
</head>
<body>

<!-- add-user -->
<form th:fragment="add-user" class="row g-3" method="post">
    <div class="col-md-6">
        <label for="firstName" class="form-label">First name</label>
        <input type="text" class="form-control" th:field="${userDto.firstName}">
        <p class="text-danger" th:errors="${userDto.firstName}"></p>
    </div>
    <div class="col-md-6">
        <label for="lastName" class="form-label">Last name</label>
        <input type="text" class="form-control" th:field="${userDto.lastName}">
        <p class="text-danger" th:errors="${userDto.lastName}"></p>
    </div>
    <div class="col-md-6">
        <label for="emailAddress" class="form-label">Email address *</label>
        <input type="text" class="form-control" th:field="${userDto.emailAddress}">
        <p class="text-danger" th:errors="${userDto.emailAddress}"></p>
    </div>
    <div class="col-md-6">
        <label for="phoneNumber" class="form-label">Phone number</label>
        <input type="text" class="form-control" th:field="${userDto.phoneNumber}">
        <p class="text-danger" th:errors="${userDto.phoneNumber}"></p>
    </div>
    <div class="col-md-6">
        <label for="username" class="form-label">User name *</label>
        <input type="text" class="form-control" th:field="${userDto.username}">
        <p class="text-danger" th:errors="${userDto.username}"></p>
        <p th:if="${isUsernameAlreadyTaken}" class="text-danger">Username already exist</p>
    </div>
    <div class="col-md-6">
        &nbsp;
    </div>
    <div class="col-12">
        <div class="form-check">
            <input class="form-check-input" type="checkbox" th:field="${userDto.active}">
            <label class="form-check-label" for="active">
                User account is active
            </label>
            <p class="text-danger" th:errors="${userDto.active}"></p>
        </div>
    </div>
    <div class="col-md-6">
        <label for="password" class="form-label">Password *</label>
        <input type="password" class="form-control" th:field="${userDto.password}">
        <p class="text-danger" th:errors="${userDto.password}"></p>
    </div>
    <div class="col-md-6">
        <label for="verifyPassword" class="form-label">Confirm password *</label>
        <input type="password" class="form-control" th:field="${userDto.verifyPassword}">
        <p class="text-danger" th:errors="${userDto.verifyPassword}"></p>
    </div>

    <div class="col-12">
        <button type="submit" class="btn btn-primary">Save user</button>
    </div>
</form>

<!-- main-table -->
<th:block th:fragment="main-table">
    <div class="row">
        <div class="col">
            <a class="btn btn-primary" th:href="${addLink}" role="button">Add New User</a>
        </div>
    </div>
    <div class="row">
        <div class="col">
            <table class="table">
                <tr>
                    <th>Full Name</th>
                    <th>Username</th>
                    <th>Email Address</th>
                    <th>Phone Number</th>
                </tr>
                <tr th:each="user : ${users}">
                    <td th:text="${user.name}"></td>
                    <td th:text="${user.username}"></td>
                    <td th:text="${user.emailAddress}"></td>
                    <td th:text="${user.phoneNumber}"></td>
                </tr>
            </table>
        </div>
    </div>
</th:block>
</body>
</html>